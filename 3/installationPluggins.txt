sudo apt update
sudo apt upgrade jenkins
# or explicitly:
sudo apt install jenkins


sudo yum update jenkins   # or sudo dnf update jenkins


sudo systemctl restart jenkins


sudo systemctl restart jenkins
# wait a minute, then check logs
sudo journalctl -u jenkins -f
# or
tail -n 200 /var/log/jenkins/jenkins.log



sudo ls -l /var/lib/jenkins/plugins | egrep -i 'okhttp|plain-credentials|workflow-job|workflow-scm-step|junit|git|github|matrix'

cd /tmp

# download required plugins
sudo wget -q --show-progress https://updates.jenkins.io/latest/plain-credentials.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/okhttp-api.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/workflow-job.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/workflow-scm-step.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/junit.hpi

# also download git and github (and matrix if you want)
sudo wget -q --show-progress https://updates.jenkins.io/latest/git.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/github.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/matrix-project.hpi

# move into jenkins plugins dir
sudo mv *.hpi /var/lib/jenkins/plugins/

# set ownership and permissions (important)
sudo chown jenkins:jenkins /var/lib/jenkins/plugins/*.hpi
sudo chmod 644 /var/lib/jenkins/plugins/*.hpi


sudo find /var/lib/jenkins/plugins -name "*.disabled" -print -exec sudo rm -f {} \;
sudo find /var/lib/jenkins/plugins -name "*.tmp" -print -exec sudo rm -f {} \;


cd /tmp
sudo wget -q https://updates.jenkins.io/latest/plain-credentials.hpi
sudo wget -q https://updates.jenkins.io/latest/okhttp-api.hpi
sudo wget -q https://updates.jenkins.io/latest/workflow-job.hpi
sudo wget -q https://updates.jenkins.io/latest/workflow-scm-step.hpi
sudo wget -q https://updates.jenkins.io/latest/junit.hpi
sudo mv *.hpi /var/lib/jenkins/plugins/
sudo chown jenkins:jenkins /var/lib/jenkins/plugins/*.hpi
sudo chmod 644 /var/lib/jenkins/plugins/*.hpi
sudo systemctl restart jenkins



cd /tmp

# download the two missing plugins
sudo wget -q --show-progress https://updates.jenkins.io/latest/github-api.hpi
sudo wget -q --show-progress https://updates.jenkins.io/latest/token-macro.hpi

# move to Jenkins plugins directory
sudo mv github-api.hpi token-macro.hpi /var/lib/jenkins/plugins/

# ensure correct ownership & permissions
sudo chown jenkins:jenkins /var/lib/jenkins/plugins/github-api.hpi /var/lib/jenkins/plugins/token-macro.hpi
sudo chmod 644 /var/lib/jenkins/plugins/github-api.hpi /var/lib/jenkins/plugins/token-macro.hpi



sudo find /var/lib/jenkins/plugins -name "*.tmp" -exec sudo rm -f {} \;
sudo find /var/lib/jenkins/plugins -name "*.disabled" -exec sudo rm -f {} \;


sudo systemctl restart jenkins
sudo journalctl -u jenkins -f --since "1 minute ago"


